server:
  port: 8083

spring:
  config:
    import: optional:classpath:application-secret.properties

  application:
    profiles:
      active: local
    name: smart-parking-api

  # Azure SQL Database
  datasource:
    url: jdbc:sqlserver://sql-parking-pdh.database.windows.net:1433;database=sqldb-parking;encrypt=true;trustServerCertificate=false;hostNameInCertificate=*.database.windows.net;loginTimeout=30;
    username: parkingadmin
    password: ${RDS_PASSWORD}
    driver-class-name: com.microsoft.sqlserver.jdbc.SQLServerDriver

  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.SQLServerDialect

  # Azure Redis Cache
  data:
    redis:
      host: redis-parking-pdh.redis.cache.windows.net
      port: 6380
      password: ${REDIS_PASSWORD}
      ssl:
        enabled: true

# Azure 서비스 설정 (배포 환경)
azure:
  storage:
    connection-string: ${AZURE_STORAGE_CONNECTION_STRING}
    container-name: cctv-images

  computer-vision:
    endpoint: https://cv-parking-pdh.cognitiveservices.azure.com/
    key: ${CV_API_KEY}

# 주차장 설정 (공통 설정)
parking:
  total-spaces: 100
